#1 jwt payload and sig jwt.io signature vertification 
#2 token introspection - revoation


##get the access token

# POST http://localhost:8001/realms/myorg/protocol/openid-connect/token
# Content-Type: application/x-www-form-urlencoded

# grant_type=client_credentials&client_id=testapiclient1&client_secret=0QGeXxVys5dWzJvJ1vpsUnm2ML0ZFxNe&scope=new_gg

## Revoke a token (any doubtful cases)

# POST http://localhost:8001/realms/myorg/protocol/openid-connect/revoke
# Content-Type: application/x-www-form-urlencoded
# Authorization: Basic dGVzdGFwaWNsaWVudDE6MFFHZVh4VnlzNWRXekp2SjF2cHNVbm0yTUwwWkZ4TmU=

# token=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjQlpLbU13VFpQcjlSSU02cDVySEFNd2MzUjI2SV9iZENqZEZFRnFQU1ZnIn0.eyJleHAiOjE3NjQ3ODk1MDQsImlhdCI6MTc2NDc4OTIwNCwianRpIjoidHJydGNjOmM1ZGRhZDViLWViNzItMjMxOC02OGI1LWY3NjU5ODQ5NGQ2MSIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODAwMS9yZWFsbXMvbXlvcmciLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMDBjMTBjZWQtOTkxMS00N2MwLWJkMzQtNjhjZGZjMmJjYTliIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoidGVzdGFwaWNsaWVudDEiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIi8qIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtbXlvcmciLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiY2xpZW50SG9zdCI6IjEyNy4wLjAuMSIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC10ZXN0YXBpY2xpZW50MSIsImNsaWVudEFkZHJlc3MiOiIxMjcuMC4wLjEiLCJjbGllbnRfaWQiOiJ0ZXN0YXBpY2xpZW50MSJ9.F5zdGBZmrOkb26zZ71bgohyXLsNKSkAshTNb8OV_WNUs760BIQfrG7n3ocnm8_z7hj4S0sPY6mpsagE8VdKyMtSs85Qrxi3Jp2fFSLijitPsUJIbPZErjuhWF89iSI9u5ZKzx0hOGAE3Tg7NbRmCtz2-PPnE1c7oVoE9JD51myAP02EtRqPs-PEwkcPWu6BUNBzSvo2q0552KHsdNyEfBu56eeWvXm940J_lHvikcPzBpagYPs0oaCTR6rKjbbh6jNV3vI-SAgEw2BOW4DVU80nDMkmU79toWu66lJ738fO5lkyzVkni1vhrQsOg1aS8OotiwMQY-2dONdZV5Eu1Sw&token_type_hint=access_token&client_id=testapiclient1


##introspection endpoint - validate the token at resouce server
##resource serer to uderstand whether revoked or not 
##create a resouce server client in keyclock 

## Introspect a token
POST http://localhost:8001/realms/myorg/protocol/openid-connect/token/introspect
Content-Type: application/x-www-form-urlencoded

client_id=sample_resource_server&client_secret=KHco37UhNM95i01S1PeFVc3llkFEdMXK&token=eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJjQlpLbU13VFpQcjlSSU02cDVySEFNd2MzUjI2SV9iZENqZEZFRnFQU1ZnIn0.eyJleHAiOjE3NjQ3OTAzNzYsImlhdCI6MTc2NDc5MDA3NiwianRpIjoidHJydGNjOjE4NWQyMzcwLTllMDctZDQzZS04ZGYxLTRkMTBlYzQ5NzEyYiIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODAwMS9yZWFsbXMvbXlvcmciLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMDBjMTBjZWQtOTkxMS00N2MwLWJkMzQtNjhjZGZjMmJjYTliIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoidGVzdGFwaWNsaWVudDEiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIi8qIl0sInJlYWxtX2FjY2VzcyI6eyJyb2xlcyI6WyJvZmZsaW5lX2FjY2VzcyIsImRlZmF1bHQtcm9sZXMtbXlvcmciLCJ1bWFfYXV0aG9yaXphdGlvbiJdfSwicmVzb3VyY2VfYWNjZXNzIjp7ImFjY291bnQiOnsicm9sZXMiOlsibWFuYWdlLWFjY291bnQiLCJtYW5hZ2UtYWNjb3VudC1saW5rcyIsInZpZXctcHJvZmlsZSJdfX0sInNjb3BlIjoiZW1haWwgcHJvZmlsZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwiY2xpZW50SG9zdCI6IjEyNy4wLjAuMSIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC10ZXN0YXBpY2xpZW50MSIsImNsaWVudEFkZHJlc3MiOiIxMjcuMC4wLjEiLCJjbGllbnRfaWQiOiJ0ZXN0YXBpY2xpZW50MSJ9.fgKNVBHgFxmS3pN0HiBnrel6_YRFteN4CVAZQU4keuoxX5MaW6nZgB7aRABFy963Qus6fBSn8lNXuB77niyvtGelnfdDrkBAOwCfeYCUOvo2mcoNmKTZB3zcMYc-FO32QPZhEDXLrutgjm5JEW3_XB7IO7oKQshKMPVprIFxt4nyiXzEgSJQ4gc9ZekjDjBCObk7YBQQxyIu2alCKSZncV14r2lHvGuTcIjSD0TrW9YBzJXZrL9cX9hZnOkLapyqnIfXQzYPOVa8u5BczYXjuWu7AqR_DM9LJf4ov6pp4GEjKooj_F9wXaL34x0hRWvnOsb6OHA-1UVN0PuiRX4OpQ